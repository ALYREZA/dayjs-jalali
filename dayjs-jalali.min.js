!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self)["dayjs-jalali"]=r()}(this,function(){"use strict";var s={toJalaali:function(t,r,e){"[object Date]"===Object.prototype.toString.call(t)&&(e=t.getDate(),r=t.getMonth()+1,t=t.getFullYear());return o(l(t,r,e))},toGregorian:u,isValidJalaaliDate:function(t,r,e){return-61<=t&&t<=3177&&1<=r&&r<=12&&1<=e&&e<=n(t,r)},isLeapJalaaliYear:e,jalaaliMonthLength:n,jalCal:a,j2d:i,d2j:o,g2d:l,d2g:d,jalaaliToDateObject:f,jalaaliWeek:function(t,r,e){var n=f(t,r,e).getDay(),n=6==n?0:-(n+1),a=6+n;return{saturday:o(i(t,r,e+n)),friday:o(i(t,r,e+a))}}},c=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function u(t,r,e){return d(i(t,r,e))}function e(t){return 0===function(t){var r,e,n,a,i=c.length,o=c[0];if(t<o||t>=c[i-1])throw new Error("Invalid Jalaali year "+t);for(a=1;a<i&&(r=c[a],e=r-o,!(t<r));a+=1)o=r;e-(n=t-o)<6&&(n=n-e+33*_(e+4,33));-1===(n=g(g(n+1,33)-1,4))&&(n=4);return n}(t)}function n(t,r){return r<=6?31:r<=11||e(t)?30:29}function a(t,r){var e,n,a,i,o,u=c.length,l=t+621,s=-14,d=c[0];if(t<d||t>=c[u-1])throw new Error("Invalid Jalaali year "+t);for(o=1;o<u&&(n=(e=c[o])-d,!(t<e));o+=1)s=s+8*_(n,33)+_(g(n,33),4),d=e;return s=s+8*_(i=t-d,33)+_(g(i,33)+3,4),4===g(n,33)&&n-i==4&&(s+=1),a=20+s-(_(l,4)-_(3*(_(l,100)+1),4)-150),r?{gy:l,march:a}:{leap:r=-1===(r=g(g((i=n-i<6?i-n+33*_(n+4,33):i)+1,33)-1,4))?4:r,gy:l,march:a}}function i(t,r,e){t=a(t,!0);return l(t.gy,3,t.march)+31*(r-1)-_(r,7)*(r-7)+e-1}function o(t){var r=d(t).gy,e=r-621,n=a(e,!1),t=t-l(r,3,n.march);if(0<=t){if(t<=185)return{jy:e,jm:1+_(t,31),jd:g(t,31)+1};t-=186}else--e,t+=179,1===n.leap&&(t+=1);return{jy:e,jm:7+_(t,30),jd:g(t,30)+1}}function l(t,r,e){return _(1461*(t+_(r-8,6)+100100),4)+_(153*g(r+9,12)+2,5)+e-34840408-_(3*_(t+100100+_(r-8,6),100),4)+752}function d(t){var r,e=4*t+139361631;return e=e+4*_(3*_(4*t+183187720,146097),4)-3908,t=5*_(g(e,1461),4)+308,r=_(g(t,153),5)+1,t=g(_(t,153),12)+1,{gy:_(e,1461)-100100+_(8-t,6),gm:t,gd:r}}function f(t,r,e,n,a,i,o){t=u(t,r,e);return new Date(t.gy,t.gm-1,t.gd,n||0,a||0,i||0,o||0)}function _(t,r){return~~(t/r)}function g(t,r){return t-~~(t/r)*r}const h={name:"fa",weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌_دو_سه‌_چه_پن_جم_شن".split("_"),weekdaysMin:"ی‌_د_س‌_چ_پ_ج_ش".split("_"),months:"فروردین_اردیبهشت_خرداد_تیر_مرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_"),monthsShort:"فرو_ارد_خرد_تیر_مرد_شهر_مهر_آبا_آذر_دی_بهم_اسف".split("_"),oridinal:t=>t+"ام",relativeTime:{future:"در %s",past:"%s قبل",s:"چند ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"}},m=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])(\D?([01]\d|2[0-3])\D?([0-5]\d)\D?([0-5]\d)?\D?(\d{3})?([zZ]|([+-])([01]\d|2[0-3])\D?([0-5]\d)?)?)?$/,y=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;return(t,r,e)=>{e.locale(h,null,!0);e=r.prototype;const n=e.format,i=e.parse;e.parse=function(t){t.date=t.date||new Date;var r,e,{date:n,jalali:a}=t;return a&&"string"==typeof n&&/.*$/i.test(n)&&(a=n.match(m))&&([,n,a,e,r]=a,{gy:n,gm:a,gd:e}=s.toGregorian(Number(n),Number(a),Number(e)),t.date=`${n}-${String(a).padStart(2,"0")}-`+String(e).padStart(2,"0")+(r||"")),i.bind(this)(t)},e.format=function(t){const i=this.$locale();if("fa"===i.name){var r=t||"YYYY-MM-DDTHH:mm:ssZ";const{jy:o,jm:u,jd:l}=s.toJalaali(this.$y,this.$M+1,this.$D);t=r.replace(y,t=>{switch(t){case"YY":return String(o).slice(-2);case"YYYY":return String(o);case"M":return String(u);case"MM":return String(u).padStart(2,"0");case"MMM":return r=i.monthsShort,e=u-1,n=i.months,a=3,r&&r[e]||n[e].substr(0,a);case"MMMM":return i.months[u-1];case"D":return String(l);case"DD":return String(l).padStart(2,"0");default:return t}var r,e,n,a})}return n.bind(this)(t)}}});
